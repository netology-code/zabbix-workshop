# Задание к практикуму



«Развернуть Zabbix-сервер и 3 виртуальные машины с ОС Linux. Объединить всё в одну сеть (Должна быть IP-связь между Zabbix-сервером и 3 ВМ»

 
*Примерное время выполнения: 1 час

### Цели задания

1. Научимся планировать мониторинг инфраструктуры
2. Настроим базовые проверки с помощью Zabbix
3. Закрепим материалы по архитектуры Zabbix
4. Попрактикуемся с подключением хостов по SNMP.

### Чеклист готовности к занятию

1. Изучены материалы лекций: "L2-сеть", "L3-сеть", "L4-сеть", "Сеть и сетевые протоколы: Firewall".
2. В программе VirtualBox создайте три виртуальные машины с Debian, назовите их Zabbix, client1, client2
3. На ВМ Zabbix установите Zabbix-сервер.
4. В VirtualBox настройте сетевые интерфейсы виртуальных машин так, чтобы у всех ВМ была связь друг с другом и с Интернетом.

### Инструменты и дополнительные материалы, которые понадобятся для выполнения задания

1. 1 ВМ с Zabbix с доступом к Интернету
2. 2 виртуальные машины (client1, client2) с ОС Linux, соединенные по сети с ВМ Zabbix.
3. Утилита snmpwalk, установленная на ВМ Zabbix (опционально)
4. Утилита tcpdump, установленная на ВМ Zabbix (опционально)

---

## Задание 1. 
Настройка мониторинга Интернет-хоста
### Описание задания
Настройте мониторинг Интернет-хоста 8.8.8.8 при помощи встроенного шаблона Template ICMP Ping. Убедитесь, что триггеры работают при потери связи с 8.8.8.8
### Этапы выполнения задания

1. Создать host 8.8.8.8 для группы Internet-services
2. Подключить шаблон Template ICMP Ping к хосту 8.8.8.8
3. Дождаться получения данных
4. Заблокировать маршрут до 8.8.8.8 (ip route add blackhole 8.8.8.8)
5. Убедиться, что триггер потери связи с 8.8.8.8 сработал

### Требование к результату

1. Убедитесь, что триггер потери связи с 8.8.8.8 сработал
2. Сделайте скриншот полученного результата. Поделитесь им в чате занятия или продемонстрируйте свой экран преподавателю непосредственно на практикуме.

 
## Задание 2. 
Настройка мониторинга ВМ client1 и client2
### Описание задания
Настройте мониторинг ВМ client1 и client2 при помощи встроенного шаблона Template OS Linux by Zabbix agent. Убедитесь, что агенты присылают данные.


### Этапы выполнения задания

1. Установите zabbix-agent на ВМ client1 и client2
2. Отредактируйте конфигурационный файл zabbix_agentd.conf на каждой клиенте, добавив параметр Server=IP, где IP - IP-адрес ВМ Zabbix
3. Перезагрузите службу zabbix-agent: systemctl restart zabbix-agent
4. Создать host client1 и client2 для группы Linux-servers
5. Подключить шаблон Template OS Linux by Zabbix agent к хостам client1 и client2
6. Убедиться, что данные от client1 и client2 появились в системе мониторинга

### Требование к результату

1. Убедитесь, что данные от client1 доступны в разделе Latest data
2. Убедитесь, что данные от client2 доступны в разделе Latest data
3. Сделайте скриншот полученного результата. Поделитесь им в чате занятия или продемонстрируйте свой экран преподавателю непосредственно на воркшопе

---

## Задание 3. 
Настройка мониторинга облачного роутера
### Описание задания
Настройте мониторинг облачного роутера netology_csr при помощи встроенного шаблона Cisco IOS versions 12.0._3_T-12.2_3.5 by SNMP. Убедитесь, что агенты присылают данные.

### Этапы выполнения задания
1. Создать host netology_csr для группы Cloud-routers (IP - 45.134.127.23, метод опроса - SNMP, community - netology_snmp).
2. Подключить шаблон Cisco IOS versions 12.0._3_T-12.2_3.5 by SNMP
3. Убедиться, что даннные от netology_csr появились в системе мониторинга

### Требование к результату
1. Убедитесь, что данные от netology_csr доступны в разделе Latest data
3. Сделайте скриншот полученного результата. Поделитесь им в чате занятия или продемонстрируйте свой экран преподавателю непосредственно на воркшопе